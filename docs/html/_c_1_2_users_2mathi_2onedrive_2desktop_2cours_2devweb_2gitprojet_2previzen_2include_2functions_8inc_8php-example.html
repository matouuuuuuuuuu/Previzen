<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PreviZen: C:/Users/mathi/onedrive/desktop/cours/devweb/gitprojet/previzen/include/functions.inc.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PreviZen
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_c_1_2_users_2mathi_2onedrive_2desktop_2cours_2devweb_2gitprojet_2previzen_2include_2functions_8inc_8php-example.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">C:/Users/mathi/onedrive/desktop/cours/devweb/gitprojet/previzen/include/functions.inc.php</div></div>
</div><!--header-->
<div class="contents">
<p>Charge les régions et leurs départements à partir de deux fichiers CSV.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fichier_regions</td><td>Chemin vers le fichier CSV contenant les régions (avec code et nom). </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$fichier_departements</td><td>Chemin vers le fichier CSV contenant les départements (avec code et code région).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array Tableau associatif structuré par nom de région, contenant les départements avec leur numéro et nom.</dd></dl>
<p>[ "Île-de-France" =&gt; [ ["numero" =&gt; "75", "nom" =&gt; "Paris"], ["numero" =&gt; "77", "nom" =&gt; "Seine-et-Marne"], ... ], ... ]</p>
<div class="fragment"><div class="line">&lt;?php</div>
<div class="line"> </div>
<div class="line">include  __DIR__ . <span class="stringliteral">&#39;/utile.inc.php&#39;</span>;</div>
<div class="line">include  __DIR__ . <span class="stringliteral">&#39;/config.inc.php&#39;</span>;</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a0" name="a0"></a><a class="code hl_function" href="functions_8inc_8php.html#a03ae3aced4dd1ce64dfef5cf73320420">get_apod_data</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="tech_8php.html#a186dfe06d14a3bc248c4eb4bcdaec562">$api_key</a>, <span class="keywordtype">string</span> <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>): ?array {</div>
<div class="line">    $url = <span class="stringliteral">&quot;https://api.nasa.gov/planetary/apod?api_key=$api_key&amp;date=$date&amp;thumbs=true&quot;</span>;</div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    <span class="keywordflow">return</span> $response ? json_decode($response, <span class="keyword">true</span>) : null;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a1" name="a1"></a><a class="code hl_function" href="functions_8inc_8php.html#aaa22a63a3793853ff0bcd90585563b5e">get_apod_html</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="tech_8php.html#a186dfe06d14a3bc248c4eb4bcdaec562">$api_key</a>, <span class="keywordtype">string</span> <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>): string {</div>
<div class="line">    $url = <span class="stringliteral">&quot;https://api.nasa.gov/planetary/apod?api_key=$api_key&amp;date=$date&amp;thumbs=true&quot;</span>;</div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    </div>
<div class="line">    $data = $response ? json_decode($response, <span class="keyword">true</span>) : null;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!$data) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;p&gt;Impossible de récupérer les données de la NASA.&lt;/p&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    $html = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($data[<span class="stringliteral">&#39;media_type&#39;</span>] === <span class="stringliteral">&#39;image&#39;</span>) {</div>
<div class="line">        $html .= <span class="stringliteral">&#39;&lt;div class=&quot;image-container&quot;&gt;&lt;img src=&quot;&#39;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;url&#39;</span>]) . <span class="stringliteral">&#39;&quot; width=&quot;400&quot; alt=&quot;APOD&quot;/&gt;&lt;/div&gt;&#39;</span>;</div>
<div class="line">    } <a id="a2" name="a2"></a><a class="code hl_variable" href="advice_8php.html#abe60738f237bdc1eb1d25759f0f83c91">elseif</a> ($data[<span class="stringliteral">&#39;media_type&#39;</span>] === <span class="stringliteral">&#39;video&#39;</span>) {</div>
<div class="line">        $html .= <span class="stringliteral">&quot;&lt;iframe width=\&quot;560\&quot; height=\&quot;315\&quot; src=\&quot;&quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;url&#39;</span>]) . <span class="stringliteral">&quot;\&quot; frameborder=\&quot;0\&quot; allowfullscreen&gt;&lt;/iframe&gt;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;p&gt;&quot;</span> . nl2br(htmlspecialchars($data[<span class="stringliteral">&#39;explanation&#39;</span>])) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $html;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a3" name="a3"></a><a class="code hl_function" href="functions_8inc_8php.html#a4aad7562a4d0dd7f840fc8e40639653a">get_geoplugin_html</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>): string {</div>
<div class="line">    $xml = @simplexml_load_file(<span class="stringliteral">&quot;http://www.geoplugin.net/xml.gp?ip=$ip&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!$xml) <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;p&gt;Impossible de récupérer les données de GeoPlugin.&lt;/p&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    $html = <span class="stringliteral">&quot;&lt;ul&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;IP :&lt;/strong&gt; &quot;</span> . htmlspecialchars(<a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Ville :&lt;/strong&gt; &quot;</span> . htmlspecialchars((<span class="keywordtype">string</span>)($xml-&gt;geoplugin_city ?? <span class="stringliteral">&#39;N/A&#39;</span>)) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Région :&lt;/strong&gt; &quot;</span> . htmlspecialchars((<span class="keywordtype">string</span>)($xml-&gt;geoplugin_region ?? <span class="stringliteral">&#39;N/A&#39;</span>)) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Pays :&lt;/strong&gt; &quot;</span> . htmlspecialchars((<span class="keywordtype">string</span>)($xml-&gt;geoplugin_countryName ?? <span class="stringliteral">&#39;N/A&#39;</span>)) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Continent :&lt;/strong&gt; &quot;</span> . htmlspecialchars((<span class="keywordtype">string</span>)($xml-&gt;geoplugin_continentName ?? <span class="stringliteral">&#39;N/A&#39;</span>)) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;/ul&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $html;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a4" name="a4"></a><a class="code hl_function" href="functions_8inc_8php.html#a28fa67739bca2e046c581c0708d7a30e">get_whatismyip_html</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>, <span class="keywordtype">string</span> $key): string {</div>
<div class="line">    $url = <span class="stringliteral">&quot;https://api.whatismyip.com/ip-address-lookup.php?key=$key&amp;input=$ip&quot;</span>;</div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!$response) {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;p&gt;Impossible de contacter l’API WhatIsMyIP.&lt;/p&gt;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $lines = preg_split(<span class="stringliteral">&quot;/\r\n|\n|\r/&quot;</span>, trim($response)); <span class="comment">// Gère tous les formats de retour</span></div>
<div class="line">    $data = [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> ($lines as $line) {</div>
<div class="line">        $line = trim($line);</div>
<div class="line">        <span class="keywordflow">if</span> ($line === <span class="stringliteral">&#39;&#39;</span>) <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        $parts = explode(<span class="charliteral">&#39;:&#39;</span>, $line, 2);</div>
<div class="line">        <span class="keywordflow">if</span> (count($parts) == 2) {</div>
<div class="line">            $keyName = strtolower(trim($parts[0])); <span class="comment">// en minuscules par sécurité</span></div>
<div class="line">            $value = trim($parts[1]);</div>
<div class="line">            $data[$keyName] = $value;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $html = <span class="stringliteral">&quot;&lt;ul&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;IP :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;ip&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Ville :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;city&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Région :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;region&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Pays :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;country&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Code postal :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;postalcode&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Fournisseur :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;isp&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Latitude :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;latitude&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;li&gt;&lt;strong&gt;Longitude :&lt;/strong&gt; &quot;</span> . htmlspecialchars($data[<span class="stringliteral">&#39;longitude&#39;</span>] ?? <span class="stringliteral">&#39;N/A&#39;</span>) . <span class="stringliteral">&quot;&lt;/li&gt;&quot;</span>;</div>
<div class="line">    $html .= <span class="stringliteral">&quot;&lt;/ul&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $html;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a5" name="a5"></a><a class="code hl_function" href="functions_8inc_8php.html#a6da0dd81990e3b00f51e18fbf74bf9bb">cookiesAutorises</a>(): bool {</div>
<div class="line">    return !isset($_COOKIE[<span class="stringliteral">&#39;cookiesAccepted&#39;</span>]) || $_COOKIE[<span class="stringliteral">&#39;cookiesAccepted&#39;</span>] === <span class="stringliteral">&#39;yes&#39;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a6" name="a6"></a><a class="code hl_function" href="functions_8inc_8php.html#a68ef274d5931e28446b8ceb55c9f05ee">getTheme</a>(): string {</div>
<div class="line">    <a class="code hl_variable" href="header_8inc_8php.html#a1e31da0b2178f1c415f5a9d391fd9275">if</a> (isset($_GET[<span class="stringliteral">&#39;style&#39;</span>])) {</div>
<div class="line">        <span class="keywordflow">if</span> ($_GET[<span class="stringliteral">&#39;style&#39;</span>] === <span class="stringliteral">&#39;nuit&#39;</span>) <span class="keywordflow">return</span> <span class="stringliteral">&#39;night&#39;</span>;</div>
<div class="line">        <span class="keywordflow">if</span> ($_GET[<span class="stringliteral">&#39;style&#39;</span>] === <span class="stringliteral">&#39;jour&#39;</span>) <span class="keywordflow">return</span> <span class="stringliteral">&#39;day&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="functions_8inc_8php.html#a6da0dd81990e3b00f51e18fbf74bf9bb">cookiesAutorises</a>() &amp;&amp; isset($_COOKIE[<span class="stringliteral">&#39;theme&#39;</span>])) {</div>
<div class="line">        <span class="keywordflow">return</span> ($_COOKIE[<span class="stringliteral">&#39;theme&#39;</span>] === <span class="stringliteral">&#39;night_style&#39;</span>) ? <span class="stringliteral">&#39;night&#39;</span> : <span class="stringliteral">&#39;day&#39;</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&#39;day&#39;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a7" name="a7"></a><a class="code hl_function" href="functions_8inc_8php.html#a724f208da60c8ae1d0653660a8dd314d">getIcon</a>($basename) {</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&quot;/images/{$basename}-&quot;</span> . <a class="code hl_function" href="functions_8inc_8php.html#a68ef274d5931e28446b8ceb55c9f05ee">getTheme</a>() . <span class="stringliteral">&quot;.png&quot;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a8" name="a8"></a><a class="code hl_function" href="functions_8inc_8php.html#a2e57e50d383105be7b8f03780e4867ee">compter_visites</a>(<span class="keywordtype">string</span> $fichier = <span class="stringliteral">&#39;./data/compteur.txt&#39;</span>): int {</div>
<div class="line">    <a class="code hl_variable" href="header_8inc_8php.html#a1e31da0b2178f1c415f5a9d391fd9275">if</a> (!file_exists($fichier)) {</div>
<div class="line">        file_put_contents($fichier, 0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="footer_8inc_8php.html#a8b13b70e413119309129af4aae42fbfd">$visites</a> = (int) file_get_contents($fichier);</div>
<div class="line">    <a class="code hl_variable" href="footer_8inc_8php.html#a8b13b70e413119309129af4aae42fbfd">$visites</a>++;</div>
<div class="line">    file_put_contents($fichier, <a class="code hl_variable" href="footer_8inc_8php.html#a8b13b70e413119309129af4aae42fbfd">$visites</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="footer_8inc_8php.html#a8b13b70e413119309129af4aae42fbfd">$visites</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a9" name="a9"></a><a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="keywordtype">string</span> $endpoint, <span class="keywordtype">string</span> $query, array $extraParams = []): ?array {</div>
<div class="line">    $base = <span class="stringliteral">&quot;http://api.weatherapi.com/v1/&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// ⏳ Sélection dynamique de la bonne clé</span></div>
<div class="line">    $start = <span class="keyword">new</span> DateTime(<a class="code hl_variable" href="config_8inc_8php.html#afeb8e8e740f59428dbc7f31abad16cda">WEATHERAPI_PRO_START</a>);</div>
<div class="line">    $today = <span class="keyword">new</span> DateTime();</div>
<div class="line">    $interval = $start-&gt;diff($today)-&gt;days;</div>
<div class="line">    $key = ($interval &lt; 13) ? <a class="code hl_variable" href="config_8inc_8php.html#adab5ecc0147e0a24a0d7e05988718eb5">WEATHERAPI_KEY_PRO1</a> : <a class="code hl_variable" href="config_8inc_8php.html#a4822d4ebd235a18068cab4ae6b962e4b">WEATHERAPI_KEY_PRO2</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="header_8inc_8php.html#a60db72aed7c1f4296000e75ae790959a">$params</a> = array_merge([</div>
<div class="line">        <span class="stringliteral">&#39;key&#39;</span> =&gt; $key,</div>
<div class="line">        <span class="charliteral">&#39;q&#39;</span> =&gt; $query,</div>
<div class="line">        <span class="stringliteral">&#39;lang&#39;</span> =&gt; <span class="stringliteral">&#39;fr&#39;</span></div>
<div class="line">    ], $extraParams);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($endpoint === <span class="stringliteral">&quot;forecast.json&quot;</span> &amp;&amp; !isset(<a class="code hl_variable" href="header_8inc_8php.html#a60db72aed7c1f4296000e75ae790959a">$params</a>[<span class="stringliteral">&#39;days&#39;</span>])) {</div>
<div class="line">        <a class="code hl_variable" href="header_8inc_8php.html#a60db72aed7c1f4296000e75ae790959a">$params</a>[<span class="stringliteral">&#39;days&#39;</span>] = 7;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $url = $base . $endpoint . <span class="charliteral">&#39;?&#39;</span> . http_build_query(<a class="code hl_variable" href="header_8inc_8php.html#a60db72aed7c1f4296000e75ae790959a">$params</a>);</div>
<div class="line"> </div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    <span class="keywordflow">return</span> $response ? json_decode($response, <span class="keyword">true</span>) : null;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a10" name="a10"></a><a class="code hl_function" href="functions_8inc_8php.html#a440e49d2ec1b78bfb8c97a85558fafeb">getTodayWeatherData</a>(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>) {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;current.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (!$data) <span class="keywordflow">return</span> null;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;ville&#39;</span> =&gt; $data[<span class="stringliteral">&#39;location&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;cp&#39;</span> =&gt; $data[<span class="stringliteral">&#39;location&#39;</span>][<span class="stringliteral">&#39;tz_id&#39;</span>], <span class="comment">// Pas de CP direct, fallback</span></div>
<div class="line">        <span class="stringliteral">&#39;condition&#39;</span> =&gt; $data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;text&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;tmin&#39;</span> =&gt; $data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;temp_c&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;tmax&#39;</span> =&gt; $data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;temp_c&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;vent&#39;</span> =&gt; $data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;wind_kph&#39;</span>]</div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a11" name="a11"></a><a class="code hl_function" href="functions_8inc_8php.html#aa1e25c1e036448ba3cd72767173b0ccd">getNextHoursForecast</a>(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>, <a class="code hl_variable" href="neige_8php.html#a2215186c27ba49fd8a95581724f99713">$jour</a> = 0) {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;forecast.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (!$data || !isset($data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][<a class="code hl_variable" href="neige_8php.html#a2215186c27ba49fd8a95581724f99713">$jour</a>][<span class="stringliteral">&#39;hour&#39;</span>])) <span class="keywordflow">return</span> null;</div>
<div class="line"> </div>
<div class="line">    $hours = $data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][<a class="code hl_variable" href="neige_8php.html#a2215186c27ba49fd8a95581724f99713">$jour</a>][<span class="stringliteral">&#39;hour&#39;</span>];</div>
<div class="line">    $moments = [8 =&gt; <span class="stringliteral">&#39;matin&#39;</span>, 12 =&gt; <span class="stringliteral">&#39;midi&#39;</span>, 18 =&gt; <span class="stringliteral">&#39;soir&#39;</span>];</div>
<div class="line"> </div>
<div class="line">    $result = [</div>
<div class="line">        <span class="stringliteral">&#39;ville&#39;</span> =&gt; $data[<span class="stringliteral">&#39;location&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;cp&#39;</span> =&gt; $data[<span class="stringliteral">&#39;location&#39;</span>][<span class="stringliteral">&#39;tz_id&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;conditions&#39;</span> =&gt; []</div>
<div class="line">    ];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> ($moments as $hour =&gt; $moment) {</div>
<div class="line">        <span class="keywordflow">if</span> (!isset($hours[$hour])) <span class="keywordflow">continue</span>;</div>
<div class="line">        $f = $hours[$hour];</div>
<div class="line">        $result[<span class="stringliteral">&#39;conditions&#39;</span>][$moment] = [</div>
<div class="line">            <span class="stringliteral">&#39;condition&#39;</span> =&gt; $f[<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;text&#39;</span>],</div>
<div class="line">            <span class="charliteral">&#39;t&#39;</span> =&gt; $f[<span class="stringliteral">&#39;temp_c&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;vent&#39;</span> =&gt; $f[<span class="stringliteral">&#39;wind_kph&#39;</span>]</div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $imageLabel = $result[<span class="stringliteral">&#39;conditions&#39;</span>][<span class="stringliteral">&#39;midi&#39;</span>][<span class="stringliteral">&#39;condition&#39;</span>]</div>
<div class="line">        ?? $result[<span class="stringliteral">&#39;conditions&#39;</span>][<span class="stringliteral">&#39;matin&#39;</span>][<span class="stringliteral">&#39;condition&#39;</span>]</div>
<div class="line">        ?? <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line">    $result[<span class="stringliteral">&#39;image&#39;</span>] = <a id="a12" name="a12"></a><a class="code hl_function" href="functions_8inc_8php.html#a659ac1347a62c87fd85f65b894fc481f">getWeatherImage</a>($imageLabel);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a class="code hl_function" href="functions_8inc_8php.html#a659ac1347a62c87fd85f65b894fc481f">getWeatherImage</a>($label) {</div>
<div class="line">    $label = strtolower($label);</div>
<div class="line">    <span class="keywordflow">if</span> (str_contains($label, <span class="stringliteral">&#39;pluie&#39;</span>)) <span class="keywordflow">return</span> <span class="stringliteral">&#39;pluie.png&#39;</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (str_contains($label, <span class="stringliteral">&#39;nuage&#39;</span>)) <span class="keywordflow">return</span> <span class="stringliteral">&#39;nuage.png&#39;</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (str_contains($label, <span class="stringliteral">&#39;soleil&#39;</span>) || str_contains($label, <span class="stringliteral">&#39;ensoleillé&#39;</span>) || str_contains($label, <span class="stringliteral">&#39;dégagé&#39;</span>)) <span class="keywordflow">return</span> <span class="stringliteral">&#39;soleil.png&#39;</span>;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="stringliteral">&#39;inconnu.png&#39;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a13" name="a13"></a><a class="code hl_function" href="functions_8inc_8php.html#ab9006012d8552d2fc45e88b8ec196d8d">getDayDetails</a>(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>) {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;forecast.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (!$data || !isset($data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][0][<span class="stringliteral">&#39;day&#39;</span>])) <span class="keywordflow">return</span> null;</div>
<div class="line"> </div>
<div class="line">    $day = $data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][0][<span class="stringliteral">&#39;day&#39;</span>];</div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;date&#39;</span> =&gt; $data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][0][<span class="stringliteral">&#39;date&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;weather&#39;</span> =&gt; $day[<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;text&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;tmin&#39;</span> =&gt; $day[<span class="stringliteral">&#39;mintemp_c&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;tmax&#39;</span> =&gt; $day[<span class="stringliteral">&#39;maxtemp_c&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;precipitation&#39;</span> =&gt; $day[<span class="stringliteral">&#39;totalprecip_mm&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;wind&#39;</span> =&gt; $day[<span class="stringliteral">&#39;maxwind_kph&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;gust&#39;</span> =&gt; $day[<span class="stringliteral">&#39;maxwind_kph&#39;</span>]</div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a14" name="a14"></a><a class="code hl_function" href="functions_8inc_8php.html#acfbe0013a289144f41637885c5612a8c">getClientIP</a>() {</div>
<div class="line">    <span class="keywordflow">return</span> $_SERVER[<span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>] ?? <span class="stringliteral">&#39;127.0.0.1&#39;</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a15" name="a15"></a><a class="code hl_function" href="functions_8inc_8php.html#a9c8c270010d978649222e5cbb1ad7c6a">getCityFromIPInfo</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>): ?array {</div>
<div class="line">    $token = <a class="code hl_variable" href="config_8inc_8php.html#a16a4f1ccb2def21e58adbe582dca00ad">IPINFO_TOKEN</a>; <span class="comment">// définie dans config.inc.php</span></div>
<div class="line">    $url = <span class="stringliteral">&quot;http://ipinfo.io/{$ip}/json?token={$token}&quot;</span>;</div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    $data = $response ? json_decode($response, <span class="keyword">true</span>) : null;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!$data) <span class="keywordflow">return</span> null;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;ville&#39;</span> =&gt; $data[<span class="stringliteral">&#39;city&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;cp&#39;</span>    =&gt; $data[<span class="stringliteral">&#39;postal&#39;</span>] ?? null</div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a16" name="a16"></a><a class="code hl_function" href="functions_8inc_8php.html#a740321fd4e5c10cfb1916179f34163c1">getCityFromIP</a>(<a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>) {</div>
<div class="line">    $url = <span class="stringliteral">&quot;http://www.geoplugin.net/json.gp?ip=&quot;</span> . <a class="code hl_variable" href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a>;</div>
<div class="line">    $data = json_decode(file_get_contents($url), <span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;ville&#39;</span> =&gt; $data[<span class="stringliteral">&#39;geoplugin_city&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;departement&#39;</span> =&gt; $data[<span class="stringliteral">&#39;geoplugin_region&#39;</span>] ?? null,       </div>
<div class="line">        <span class="stringliteral">&#39;region&#39;</span> =&gt; $data[<span class="stringliteral">&#39;geoplugin_regionName&#39;</span>] ?? null        </div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a17" name="a17"></a><a class="code hl_function" href="functions_8inc_8php.html#ac8bdfeebe820ce3625f3fe72b540b7ca">chargerRegionsEtDepartements</a>($fichier_regions, $fichier_departements) {</div>
<div class="line">    $codes_regions = [];</div>
<div class="line">    <span class="keywordflow">if</span> (!file_exists($fichier_regions)) {</div>
<div class="line">        echo <span class="stringliteral">&quot;Erreur : fichier $fichier_regions introuvable.&lt;br&gt;&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span> [];</div>
<div class="line">    }</div>
<div class="line">    $r = fopen($fichier_regions, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line">    fgetcsv($r); </div>
<div class="line">    <span class="keywordflow">while</span> ($ligne = fgetcsv($r)) {</div>
<div class="line">        $codes_regions[$ligne[0]] = $ligne[5]; </div>
<div class="line">    }</div>
<div class="line">    fclose($r);</div>
<div class="line">    $resultat = [];</div>
<div class="line">    <span class="keywordflow">if</span> (!file_exists($fichier_departements)) {</div>
<div class="line">        echo <span class="stringliteral">&quot;Erreur : fichier $fichier_departements introuvable.&lt;br&gt;&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span> [];</div>
<div class="line">    }</div>
<div class="line">    $d = fopen($fichier_departements, <span class="stringliteral">&quot;r&quot;</span>);</div>
<div class="line">    fgetcsv($d); </div>
<div class="line">    <span class="keywordflow">while</span> ($ligne = fgetcsv($d)) {</div>
<div class="line">        $code_reg = $ligne[1];</div>
<div class="line">        $code_dep = $ligne[0];</div>
<div class="line">        $nom_dep  = $ligne[5];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($codes_regions[$code_reg])) {</div>
<div class="line">            $nom_reg = $codes_regions[$code_reg];</div>
<div class="line">            $resultat[$nom_reg][] = [</div>
<div class="line">                <span class="stringliteral">&#39;numero&#39;</span> =&gt; $code_dep,</div>
<div class="line">                <span class="stringliteral">&#39;nom&#39;</span> =&gt; $nom_dep</div>
<div class="line">            ];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    fclose($d);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $resultat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a18" name="a18"></a><a class="code hl_function" href="functions_8inc_8php.html#a005b314c8e977288fae3a76e2f22f27a">getRegionsDepartementsSimplifie</a>($fichier_regions, $fichier_departements): array {</div>
<div class="line">    $regions_completes = <a class="code hl_function" href="functions_8inc_8php.html#ac8bdfeebe820ce3625f3fe72b540b7ca">chargerRegionsEtDepartements</a>($fichier_regions, $fichier_departements);</div>
<div class="line">    $resultat = [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> ($regions_completes as $nom_region =&gt; <a class="code hl_variable" href="departements_8php.html#adad9b2799c69f4c9deb75ea73c6b12c8">$departements</a>) {</div>
<div class="line">        $slug = strtolower(iconv(<span class="stringliteral">&#39;UTF-8&#39;</span>, <span class="stringliteral">&#39;ASCII//TRANSLIT&#39;</span>, $nom_region));</div>
<div class="line">        $slug = str_replace([<span class="charliteral">&#39; &#39;</span>, <span class="stringliteral">&quot;&#39;&quot;</span>, <span class="stringliteral">&#39;’&#39;</span>], [<span class="charliteral">&#39;-&#39;</span>, <span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&#39;</span>], $slug);</div>
<div class="line">        $resultat[$slug] = array_column(<a class="code hl_variable" href="departements_8php.html#adad9b2799c69f4c9deb75ea73c6b12c8">$departements</a>, <span class="stringliteral">&#39;numero&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $resultat;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a19" name="a19"></a><a class="code hl_function" href="functions_8inc_8php.html#a09b71cd9b810ff04fe96389929fab101">getNextDaysForecast</a>(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>) {</div>
<div class="line">    <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a> = iconv(<span class="stringliteral">&#39;UTF-8&#39;</span>, <span class="stringliteral">&#39;ASCII//TRANSLIT//IGNORE&#39;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Appel API</span></div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;forecast.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (!$data || !isset($data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>])) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    $result = [];</div>
<div class="line">    <span class="keywordflow">foreach</span> ($data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>] as $day) {</div>
<div class="line">        <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a> = DateTime::createFromFormat(<span class="stringliteral">&#39;Y-m-d&#39;</span>, $day[<span class="stringliteral">&#39;date&#39;</span>]);</div>
<div class="line">        $jours = [<span class="stringliteral">&#39;dimanche&#39;</span>,<span class="stringliteral">&#39;lundi&#39;</span>,<span class="stringliteral">&#39;mardi&#39;</span>,<span class="stringliteral">&#39;mercredi&#39;</span>,<span class="stringliteral">&#39;jeudi&#39;</span>,<span class="stringliteral">&#39;vendredi&#39;</span>,<span class="stringliteral">&#39;samedi&#39;</span>];</div>
<div class="line">        $dayIndex = (int) <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>-&gt;format(<span class="charliteral">&#39;w&#39;</span>);</div>
<div class="line">        $dayLabel = $jours[$dayIndex] . <span class="charliteral">&#39; &#39;</span> . <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>-&gt;format(<span class="charliteral">&#39;d&#39;</span>);</div>
<div class="line"> </div>
<div class="line">        $result[] = [</div>
<div class="line">            <span class="stringliteral">&#39;date&#39;</span> =&gt; $day[<span class="stringliteral">&#39;date&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;day&#39;</span> =&gt; ucfirst($dayLabel),</div>
<div class="line">            <span class="stringliteral">&#39;icon&#39;</span> =&gt; $day[<span class="stringliteral">&#39;day&#39;</span>][<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;icon&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;tmin&#39;</span> =&gt; round($day[<span class="stringliteral">&#39;day&#39;</span>][<span class="stringliteral">&#39;mintemp_c&#39;</span>]),</div>
<div class="line">            <span class="stringliteral">&#39;tmax&#39;</span> =&gt; round($day[<span class="stringliteral">&#39;day&#39;</span>][<span class="stringliteral">&#39;maxtemp_c&#39;</span>]),</div>
<div class="line">            <span class="stringliteral">&#39;wind&#39;</span> =&gt; round($day[<span class="stringliteral">&#39;day&#39;</span>][<span class="stringliteral">&#39;maxwind_kph&#39;</span>]),</div>
<div class="line">            <span class="stringliteral">&#39;gust&#39;</span> =&gt; round($day[<span class="stringliteral">&#39;day&#39;</span>][<span class="stringliteral">&#39;maxwind_kph&#39;</span>]),</div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $result;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a20" name="a20"></a><a class="code hl_function" href="functions_8inc_8php.html#ab69229b0178c43dac3aac07413853f9a">getPlageWeatherData</a>(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>) {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;forecast.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!$data || !isset($data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>])) {</div>
<div class="line">        echo <span class="stringliteral">&quot;&lt;pre&gt;ERREUR API pour ville = $ville&lt;/pre&gt;&quot;</span>;</div>
<div class="line">        var_dump($data);</div>
<div class="line">        <span class="keywordflow">return</span> [];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $day = $data[<span class="stringliteral">&#39;forecast&#39;</span>][<span class="stringliteral">&#39;forecastday&#39;</span>][0][<span class="stringliteral">&#39;day&#39;</span>];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;condition&#39;</span> =&gt; $day[<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;text&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;icone&#39;</span> =&gt; <span class="stringliteral">&#39;https:&#39;</span> . $day[<span class="stringliteral">&#39;condition&#39;</span>][<span class="stringliteral">&#39;icon&#39;</span>], </div>
<div class="line">        <span class="stringliteral">&#39;temp_air&#39;</span> =&gt; $day[<span class="stringliteral">&#39;avgtemp_c&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;temp_eau&#39;</span> =&gt; <a id="a21" name="a21"></a><a class="code hl_function" href="utile_8inc_8php.html#ac425fec8aadb2de68d0a0128d4d6ec8e">estimateWaterTemp</a>($day[<span class="stringliteral">&#39;avgtemp_c&#39;</span>]),</div>
<div class="line">        <span class="stringliteral">&#39;vent&#39;</span> =&gt; $day[<span class="stringliteral">&#39;maxwind_kph&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;uv&#39;</span> =&gt; $day[<span class="stringliteral">&#39;uv&#39;</span>],</div>
<div class="line">        <span class="stringliteral">&#39;maree&#39;</span> =&gt; rand(0, 1) ? <span class="stringliteral">&#39;Haute&#39;</span> : <span class="stringliteral">&#39;Basse&#39;</span></div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a22" name="a22"></a><a class="code hl_function" href="functions_8inc_8php.html#a6424e254d7c780eace0b65798a9dd45d">getSnowDataForMassif</a>(<span class="keywordtype">string</span> $massif): array {</div>
<div class="line">    <a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a> = <a class="code hl_function" href="functions_8inc_8php.html#a0f82e94bd899d6c870f8319b6031df8c">getTopSkiStationsByMassif</a>($massif);</div>
<div class="line">    $results = [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> (<a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a> as $station) {</div>
<div class="line">        $lat = $station[<span class="stringliteral">&#39;lat&#39;</span>];</div>
<div class="line">        $lon = $station[<span class="stringliteral">&#39;lon&#39;</span>];</div>
<div class="line">        $name = $station[<span class="stringliteral">&#39;name&#39;</span>];</div>
<div class="line"> </div>
<div class="line">        $url = <span class="stringliteral">&quot;https://api.open-meteo.com/v1/forecast?latitude={$lat}&amp;longitude={$lon}&amp;daily=snowfall_sum&amp;timezone=auto&quot;</span>;</div>
<div class="line">        $response = @file_get_contents($url);</div>
<div class="line">        <span class="keywordflow">if</span> (!$response) <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        $data = json_decode($response, <span class="keyword">true</span>);</div>
<div class="line">        <span class="keywordflow">if</span> (!isset($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;time&#39;</span>]) || !isset($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;snowfall_sum&#39;</span>])) <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        $entries = [];</div>
<div class="line">        <span class="keywordflow">foreach</span> ($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;time&#39;</span>] as $i =&gt; <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>) {</div>
<div class="line">            $entries[] = [</div>
<div class="line">                <span class="stringliteral">&#39;date&#39;</span> =&gt; <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>,</div>
<div class="line">                <span class="stringliteral">&#39;snow_cm&#39;</span> =&gt; $data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;snowfall_sum&#39;</span>][$i]</div>
<div class="line">            ];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $results[] = [</div>
<div class="line">            <span class="stringliteral">&#39;station&#39;</span> =&gt; $name,</div>
<div class="line">            <span class="stringliteral">&#39;data&#39;</span> =&gt; $entries</div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $results;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a23" name="a23"></a><a class="code hl_function" href="functions_8inc_8php.html#a0f82e94bd899d6c870f8319b6031df8c">getTopSkiStationsByMassif</a>(<span class="keywordtype">string</span> $massif): array {</div>
<div class="line">    <a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a> = [</div>
<div class="line">        <span class="stringliteral">&#39;alpes&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Tignes&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.4691, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.9063],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Val Thorens&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.2974, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.5796],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Alpe d’Huez&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.0918, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.0680],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Les Deux Alpes&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.0076, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.1200],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Chamonix&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.9237, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.8694]</div>
<div class="line">        ],</div>
<div class="line">        <span class="stringliteral">&#39;pyrenees&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Saint-Lary&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.8161, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 0.3297],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Cauterets&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.8873, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -0.1167],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Font-Romeu&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.5044, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.0362],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Ax 3 Domaines&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.7200, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 1.8200],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Gourette&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.9562, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -0.3384]</div>
<div class="line">        ],</div>
<div class="line">        <span class="stringliteral">&#39;vosges&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;La Bresse&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 48.0020, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.9112],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Gérardmer&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 48.0724, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.8763],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Ventron&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 47.9439, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.8784],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Le Markstein&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 47.9427, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 7.0383],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Ballon d’Alsace&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 47.8308, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.8533]</div>
<div class="line">        ],</div>
<div class="line">        <span class="stringliteral">&#39;jura&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Les Rousses&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.4839, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.0650],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Métabief&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.8000, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.3500],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Monts Jura&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.2963, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 5.9551],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;La Pesse&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.2932, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 5.8497],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Bellefontaine&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.5500, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.0833]</div>
<div class="line">        ],</div>
<div class="line">        <span class="stringliteral">&#39;massif-central&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Super-Besse&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.5100, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.9333],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Le Lioran&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.0491, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.7556],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Mont-Dore&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.5753, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.8090],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Chastreix&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.5189, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.7356],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Prat de Bouc&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.0356, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.7425]</div>
<div class="line">        ],</div>
<div class="line">        <span class="stringliteral">&#39;corse&#39;</span> =&gt; [</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Val d’Ese&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.0000, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 9.1000],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Ghisoni&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.1000, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 9.2000],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Vergio&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.2833, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 8.9333],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Asco&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.5000, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 9.0000],</div>
<div class="line">            [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Haut Asco&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.4270, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 9.0400]</div>
<div class="line">        ]</div>
<div class="line">    ];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a>[$massif] ?? [];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a24" name="a24"></a><a class="code hl_function" href="functions_8inc_8php.html#a5d84d7b1ce3079bcd45e9555ce19e0ce">getSnowDataForStation</a>(<span class="keywordtype">string</span> $stationName, <span class="keywordtype">float</span> $lat, <span class="keywordtype">float</span> $lon): array {</div>
<div class="line">    $url = <span class="stringliteral">&quot;https://api.open-meteo.com/v1/forecast?latitude={$lat}&amp;longitude={$lon}&amp;daily=snowfall_sum&amp;timezone=auto&quot;</span>;</div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    <span class="keywordflow">if</span> (!$response) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    $data = json_decode($response, <span class="keyword">true</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!isset($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;time&#39;</span>]) || !isset($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;snowfall_sum&#39;</span>])) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    $entries = [];</div>
<div class="line">    <span class="keywordflow">foreach</span> ($data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;time&#39;</span>] as $i =&gt; <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>) {</div>
<div class="line">        $entries[] = [</div>
<div class="line">            <span class="stringliteral">&#39;date&#39;</span> =&gt; <a class="code hl_variable" href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a>,</div>
<div class="line">            <span class="stringliteral">&#39;snow_cm&#39;</span> =&gt; $data[<span class="stringliteral">&#39;daily&#39;</span>][<span class="stringliteral">&#39;snowfall_sum&#39;</span>][$i]</div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [[</div>
<div class="line">        <span class="stringliteral">&#39;station&#39;</span> =&gt; $stationName,</div>
<div class="line">        <span class="stringliteral">&#39;data&#39;</span> =&gt; $entries</div>
<div class="line">    ]];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a25" name="a25"></a><a class="code hl_function" href="functions_8inc_8php.html#a207a6aa4dab75fe7397d89ba1c75dff4">getMassifMapCenter</a>(<span class="keywordtype">string</span> $massif): array {</div>
<div class="line">    $massifCenters = [</div>
<div class="line">        <span class="stringliteral">&#39;alpes&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.5, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.5, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 8],</div>
<div class="line">        <span class="stringliteral">&#39;pyrenees&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.8, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 0.3, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 8],</div>
<div class="line">        <span class="stringliteral">&#39;vosges&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 48.0, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.9, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 8],</div>
<div class="line">        <span class="stringliteral">&#39;jura&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.5, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 6.0, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 9],</div>
<div class="line">        <span class="stringliteral">&#39;massif-central&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 45.3, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.8, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 8],</div>
<div class="line">        <span class="stringliteral">&#39;corse&#39;</span> =&gt; [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.2, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 9.1, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 8]</div>
<div class="line">    ];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $massifCenters[$massif] ?? [<span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.5, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 2.5, <span class="stringliteral">&#39;zoom&#39;</span> =&gt; 6]; </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">function <a id="a26" name="a26"></a><a class="code hl_function" href="functions_8inc_8php.html#a7fa86aeb77e05b376566af7ce1eb05ba">displayRandomPhotoFigureByMassif</a>(<span class="keywordtype">string</span> $massif) {</div>
<div class="line">    $dossier = <span class="stringliteral">&quot;./images/massif/&quot;</span> . strtolower($massif) . <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line">    $extensions_autorisees = [<span class="stringliteral">&#39;jpg&#39;</span>, <span class="stringliteral">&#39;jpeg&#39;</span>, <span class="stringliteral">&#39;png&#39;</span>, <span class="stringliteral">&#39;gif&#39;</span>, <span class="stringliteral">&#39;webp&#39;</span>];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!is_dir($dossier)) {</div>
<div class="line">        echo <span class="stringliteral">&quot;&lt;p&gt;Dossier introuvable pour le massif : &lt;strong&gt;$massif&lt;/strong&gt;&lt;/p&gt;&quot;</span>;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    $fichiers = array_filter(scandir($dossier), function($fichier) use ($dossier, $extensions_autorisees) {</div>
<div class="line">        $extension = strtolower(pathinfo($fichier, PATHINFO_EXTENSION));</div>
<div class="line">        <span class="keywordflow">return</span> is_file($dossier . $fichier) &amp;&amp; in_array($extension, $extensions_autorisees);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!empty($fichiers)) {</div>
<div class="line">        $image = $fichiers[array_rand($fichiers)];</div>
<div class="line">        $chemin = $dossier . $image;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// nom générique à afficher pour figcaption, sans redondance avec alt</span></div>
<div class="line">        $photographeAlt = [</div>
<div class="line">            <span class="stringliteral">&quot;alpes&quot;</span> =&gt; <span class="stringliteral">&quot;Vincent Munier&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;jura&quot;</span> =&gt; <span class="stringliteral">&quot;Laurent Baheux&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;vosges&quot;</span> =&gt; <span class="stringliteral">&quot;Alex Strohl &quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;pyrenees&quot;</span> =&gt; <span class="stringliteral">&quot;Mathieu Rivrin&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;massif-central&quot;</span> =&gt; <span class="stringliteral">&quot;Aurélien Billois&quot;</span>,</div>
<div class="line">            <span class="stringliteral">&quot;corse&quot;</span> =&gt; <span class="stringliteral">&quot;Guillaume Scheib&quot;</span></div>
<div class="line">        ];</div>
<div class="line"> </div>
<div class="line">        $caption = $photographeAlt[strtolower($massif)] ?? <span class="stringliteral">&quot;Paysage du massif &quot;</span> . ucfirst($massif);</div>
<div class="line"> </div>
<div class="line">        echo <span class="stringliteral">&#39;&lt;figure&gt;&#39;</span>;</div>
<div class="line">        echo <span class="stringliteral">&#39;&lt;img src=&quot;&#39;</span> . htmlspecialchars($chemin) . <span class="stringliteral">&#39;&quot; alt=&quot;&#39;</span> . $dossier. <span class="stringliteral">&#39;&quot; style=&quot;width:100%; height:250px; object-fit:cover; border-radius:12px;&quot;/&gt;&#39;</span>;</div>
<div class="line">        echo <span class="stringliteral">&#39;&lt;figcaption&gt;&#39;</span> . htmlspecialchars($caption) . <span class="stringliteral">&#39;&lt;/figcaption&gt;&#39;</span>;</div>
<div class="line">        echo <span class="stringliteral">&#39;&lt;/figure&gt;&#39;</span>;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        echo <span class="stringliteral">&quot;&lt;p&gt;Aucune image disponible dans le dossier &lt;strong&gt;$dossier&lt;/strong&gt;.&lt;/p&gt;&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a27" name="a27"></a><a class="code hl_function" href="functions_8inc_8php.html#ad6822a01a7db896ca7ec1c1f1207ec91">getTopBeachStations</a>() {</div>
<div class="line">    <a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a> = [</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Nice&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.7034, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 7.2663],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Cannes&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.5528, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 7.0174],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Marseille&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.2965, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 5.3698],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Sète&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.4035, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 3.6928],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Le Grau-du-Roi&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.5384, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 4.1352],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Argelès-sur-Mer&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 42.5391, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 3.0232],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;La Rochelle&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.1603, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -1.1511],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Les Sables-d\&#39;Olonne&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 46.4969, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -1.7831],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Pornic&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 47.1162, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -2.1124],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Biarritz&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 43.4832, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -1.5586],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Arcachon&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 44.6611, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -1.1695],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Brest&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 48.3904, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -4.4861],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Saint-Malo&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 48.6493, <span class="stringliteral">&#39;lon&#39;</span> =&gt; -2.0257],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Le Touquet&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 50.5225, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 1.5823],</div>
<div class="line">        [<span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&#39;Ajaccio&#39;</span>, <span class="stringliteral">&#39;lat&#39;</span> =&gt; 41.9266, <span class="stringliteral">&#39;lon&#39;</span> =&gt; 8.7369],</div>
<div class="line">    ];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> (<a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a> as &amp;$station) {</div>
<div class="line">        $meteo = <a class="code hl_function" href="functions_8inc_8php.html#ab69229b0178c43dac3aac07413853f9a">getPlageWeatherData</a>($station[<span class="stringliteral">&#39;name&#39;</span>]);</div>
<div class="line">        $station[<span class="stringliteral">&#39;vent&#39;</span>] = $meteo[<span class="stringliteral">&#39;vent&#39;</span>] ?? 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a28" name="a28"></a><a class="code hl_function" href="functions_8inc_8php.html#a3ed7decd3981ab56c9f70c40f5b70680">getDepartementFromCSV</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>, <span class="keywordtype">string</span> $csv = <span class="stringliteral">&#39;./data/communes.csv&#39;</span>): ?string {</div>
<div class="line">    <a class="code hl_variable" href="header_8inc_8php.html#a1e31da0b2178f1c415f5a9d391fd9275">if</a> (!file_exists($csv)) return null;</div>
<div class="line"> </div>
<div class="line">    $handle = fopen($csv, <span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line">    fgetcsv($handle); <span class="comment">// saute l&#39;en-tête</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (($row = fgetcsv($handle)) !== <span class="keyword">false</span>) {</div>
<div class="line">        $nom = strtolower(trim($row[2])); <span class="comment">// nom_standard</span></div>
<div class="line">        <span class="keywordflow">if</span> ($nom === strtolower(trim(<a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>))) {</div>
<div class="line">            fclose($handle);</div>
<div class="line">            <span class="keywordflow">return</span> str_pad($row[12], 2, <span class="stringliteral">&quot;0&quot;</span>, STR_PAD_LEFT); <span class="comment">// dep_code (colonne 12)</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fclose($handle);</div>
<div class="line">    <span class="keywordflow">return</span> null;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a29" name="a29"></a><a class="code hl_function" href="functions_8inc_8php.html#acf615440d10caf1a30abf3e6818333ef">getAirQualityData</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>): ?array {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;current.json&quot;</span>, <a class="code hl_variable" href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a>, [<span class="stringliteral">&#39;aqi&#39;</span> =&gt; <span class="stringliteral">&#39;yes&#39;</span>]);</div>
<div class="line">    <span class="keywordflow">if</span> (!$data || !isset($data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;air_quality&#39;</span>])) <span class="keywordflow">return</span> null;</div>
<div class="line"> </div>
<div class="line">    $aq = $data[<span class="stringliteral">&#39;current&#39;</span>][<span class="stringliteral">&#39;air_quality&#39;</span>];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> [</div>
<div class="line">        <span class="stringliteral">&#39;aqi&#39;</span> =&gt; (int)($aq[<span class="stringliteral">&#39;us-epa-index&#39;</span>] ?? 0),</div>
<div class="line">        <span class="stringliteral">&#39;PM2.5&#39;</span> =&gt; $aq[<span class="stringliteral">&#39;pm2_5&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;PM10&#39;</span> =&gt; $aq[<span class="stringliteral">&#39;pm10&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;O3&#39;</span> =&gt; $aq[<span class="stringliteral">&#39;o3&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;NO2&#39;</span> =&gt; $aq[<span class="stringliteral">&#39;no2&#39;</span>] ?? null,</div>
<div class="line">        <span class="stringliteral">&#39;CO&#39;</span> =&gt; $aq[<span class="stringliteral">&#39;co&#39;</span>] ?? null</div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a30" name="a30"></a><a class="code hl_function" href="functions_8inc_8php.html#acc7e20772b4c327c6132fc864e871ac8">getCurrentWeatherAPIKey</a>(): string {</div>
<div class="line">    $start = new DateTime(<a class="code hl_variable" href="config_8inc_8php.html#afeb8e8e740f59428dbc7f31abad16cda">WEATHERAPI_PRO_START</a>);</div>
<div class="line">    $today = <span class="keyword">new</span> DateTime();</div>
<div class="line">    $interval = $start-&gt;diff($today)-&gt;days;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ($interval &lt; 13) ? <a class="code hl_variable" href="config_8inc_8php.html#adab5ecc0147e0a24a0d7e05988718eb5">WEATHERAPI_KEY_PRO1</a> : <a class="code hl_variable" href="config_8inc_8php.html#a4822d4ebd235a18068cab4ae6b962e4b">WEATHERAPI_KEY_PRO2</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a31" name="a31"></a><a class="code hl_function" href="functions_8inc_8php.html#aa84e824503e62b7447263570775159d4">chargerNomsVillesDepuisCSVParDepartement</a>(<span class="keywordtype">string</span> $csv, ?<span class="keywordtype">string</span> $departement = null): array {</div>
<div class="line">    <a class="code hl_variable" href="header_8inc_8php.html#a1e31da0b2178f1c415f5a9d391fd9275">if</a> (!file_exists($csv)) return [];</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="air_8php.html#afdefc0303846ad7cedbfd9acb7184a7a">$villes</a> = [];</div>
<div class="line">    $handle = fopen($csv, <span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line">    $header = fgetcsv($handle, 0, <span class="stringliteral">&quot;,&quot;</span>); <span class="comment">// séparateur: virgule</span></div>
<div class="line"> </div>
<div class="line">    $colNom = array_search(<span class="stringliteral">&#39;nom_standard&#39;</span>, $header);</div>
<div class="line">    $colDep = array_search(<span class="stringliteral">&#39;dep_code&#39;</span>, $header);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ($colNom === <span class="keyword">false</span> || $colDep === <span class="keyword">false</span>) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (($row = fgetcsv($handle, 0, <span class="stringliteral">&quot;,&quot;</span>)) !== <span class="keyword">false</span>) {</div>
<div class="line">        <span class="keywordflow">if</span> (!isset($row[$colNom], $row[$colDep])) <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        $nom = trim($row[$colNom]);</div>
<div class="line">        <a class="code hl_variable" href="suggestion_8php.html#a936918862c904c8ed29f6f1dfd7a1472">$dep</a> = trim($row[$colDep]);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$departement || <a class="code hl_variable" href="suggestion_8php.html#a936918862c904c8ed29f6f1dfd7a1472">$dep</a> === $departement) {</div>
<div class="line">            <a class="code hl_variable" href="air_8php.html#afdefc0303846ad7cedbfd9acb7184a7a">$villes</a>[] = $nom;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    fclose($handle);</div>
<div class="line">    sort(<a class="code hl_variable" href="air_8php.html#afdefc0303846ad7cedbfd9acb7184a7a">$villes</a>);</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="air_8php.html#afdefc0303846ad7cedbfd9acb7184a7a">$villes</a>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a32" name="a32"></a><a class="code hl_function" href="functions_8inc_8php.html#a13827df242a3d4bba716fd010bdeaf71">getMeteoNews</a>($max = 10) {</div>
<div class="line">    $apiKey = <a class="code hl_variable" href="config_8inc_8php.html#a86006b2734a7ca48f8899843ae5c0950">GNEWS_API</a>; </div>
<div class="line">    $query = <span class="stringliteral">&quot;météo OR intempéries OR canicule OR orage OR neige&quot;</span>;</div>
<div class="line">    $url = <span class="stringliteral">&quot;https://gnews.io/api/v4/search?q=&quot;</span> . urlencode($query) . <span class="stringliteral">&quot;&amp;lang=fr&amp;country=fr&amp;max=$max&amp;token=$apiKey&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    $response = @file_get_contents($url);</div>
<div class="line">    <span class="keywordflow">if</span> ($response === <span class="keyword">false</span>) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    $data = json_decode($response, <span class="keyword">true</span>);</div>
<div class="line">    <span class="keywordflow">return</span> $data[<span class="stringliteral">&#39;articles&#39;</span>] ?? [];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line">function <a id="a33" name="a33"></a><a class="code hl_function" href="functions_8inc_8php.html#a871d208565147002e16932e0c9344910">getVigilanceAlertsForFrance</a>(<span class="keywordtype">string</span> $csv = <span class="stringliteral">&#39;./data/communes.csv&#39;</span>): array {</div>
<div class="line">    $data = <a class="code hl_function" href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a>(<span class="stringliteral">&quot;alerts.json&quot;</span>, <span class="stringliteral">&quot;France&quot;</span>);</div>
<div class="line">    <a class="code hl_variable" href="vigilance_8php.html#ad631b5aa097c1e875d8a8fbd6aebea8c">$alerts</a> = $data[<span class="stringliteral">&#39;alerts&#39;</span>][<span class="stringliteral">&#39;alert&#39;</span>] ?? [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!file_exists($csv)) <span class="keywordflow">return</span> [];</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Charger toutes les communes valides dans un tableau</span></div>
<div class="line">    $villes_fr = [];</div>
<div class="line">    $handle = fopen($csv, <span class="charliteral">&#39;r&#39;</span>);</div>
<div class="line">    fgetcsv($handle); <span class="comment">// Ignore l&#39;en-tête</span></div>
<div class="line">    <span class="keywordflow">while</span> (($row = fgetcsv($handle)) !== <span class="keyword">false</span>) {</div>
<div class="line">        $villes_fr[strtolower($row[2])] = <span class="keyword">true</span>; <span class="comment">// clé = nom_standard (colonne 2)</span></div>
<div class="line">    }</div>
<div class="line">    fclose($handle);</div>
<div class="line"> </div>
<div class="line">    $result = [];</div>
<div class="line">    $seen = [];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">foreach</span> (<a class="code hl_variable" href="vigilance_8php.html#ad631b5aa097c1e875d8a8fbd6aebea8c">$alerts</a> as $a) {</div>
<div class="line">        $area = strtolower($a[<span class="stringliteral">&#39;areas&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">        $ville_concernee = null;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Vérifie si une ville FR est mentionnée dans la zone</span></div>
<div class="line">        <span class="keywordflow">foreach</span> ($villes_fr as $nom =&gt; $_) {</div>
<div class="line">            <span class="keywordflow">if</span> (strpos($area, $nom) !== <span class="keyword">false</span>) {</div>
<div class="line">                $ville_concernee = $nom;</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$ville_concernee) <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Vérifie qu’on n’a pas déjà affiché cette alerte</span></div>
<div class="line">        $id = md5(($a[<span class="stringliteral">&#39;headline&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>) . ($a[<span class="stringliteral">&#39;areas&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>) . ($a[<span class="stringliteral">&#39;event&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>));</div>
<div class="line">        <span class="keywordflow">if</span> (isset($seen[$id])) <span class="keywordflow">continue</span>;</div>
<div class="line">        $seen[$id] = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">        $result[] = [</div>
<div class="line">            <span class="stringliteral">&#39;headline&#39;</span> =&gt; $a[<span class="stringliteral">&#39;headline&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;event&#39;</span> =&gt; $a[<span class="stringliteral">&#39;event&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;areas&#39;</span> =&gt; $a[<span class="stringliteral">&#39;areas&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;severity&#39;</span> =&gt; $a[<span class="stringliteral">&#39;severity&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;effective&#39;</span> =&gt; $a[<span class="stringliteral">&#39;effective&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;expires&#39;</span> =&gt; $a[<span class="stringliteral">&#39;expires&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;desc&#39;</span> =&gt; $a[<span class="stringliteral">&#39;desc&#39;</span>] ?? <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">            <span class="stringliteral">&#39;source_city&#39;</span> =&gt; $data[<span class="stringliteral">&#39;location&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] ?? <span class="charliteral">&#39;?&#39;</span></div>
<div class="line">        ];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> $result;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">?&gt;</div>
<div class="ttc" id="aadvice_8php_html_abe60738f237bdc1eb1d25759f0f83c91"><div class="ttname"><a href="advice_8php.html#abe60738f237bdc1eb1d25759f0f83c91">elseif</a></div><div class="ttdeci">if(str_contains($condition, &#39;pluie&#39;)) elseif(str_contains( $condition, &#39;neige&#39;)) elseif(str_contains($condition, &#39;vent&#39;)) elseif(str_contains( $condition, &#39;soleil&#39;)||str_contains( $condition, &#39;dégagé&#39;)) elseif(str_contains( $condition, &#39;nuage&#39;))</div><div class="ttdef"><b>Definition</b> advice.php:46</div></div>
<div class="ttc" id="aadvice_8php_html_acc3746cfaca53a8d6942c6252b17d14f"><div class="ttname"><a href="advice_8php.html#acc3746cfaca53a8d6942c6252b17d14f">$ville</a></div><div class="ttdeci">$ville</div><div class="ttdef"><b>Definition</b> advice.php:4</div></div>
<div class="ttc" id="aair_8php_html_afdefc0303846ad7cedbfd9acb7184a7a"><div class="ttname"><a href="air_8php.html#afdefc0303846ad7cedbfd9acb7184a7a">$villes</a></div><div class="ttdeci">$villes</div><div class="ttdef"><b>Definition</b> air.php:9</div></div>
<div class="ttc" id="aconfig_8inc_8php_html_a16a4f1ccb2def21e58adbe582dca00ad"><div class="ttname"><a href="config_8inc_8php.html#a16a4f1ccb2def21e58adbe582dca00ad">IPINFO_TOKEN</a></div><div class="ttdeci">const IPINFO_TOKEN</div><div class="ttdef"><b>Definition</b> config.inc.php:8</div></div>
<div class="ttc" id="aconfig_8inc_8php_html_a4822d4ebd235a18068cab4ae6b962e4b"><div class="ttname"><a href="config_8inc_8php.html#a4822d4ebd235a18068cab4ae6b962e4b">WEATHERAPI_KEY_PRO2</a></div><div class="ttdeci">const WEATHERAPI_KEY_PRO2</div><div class="ttdef"><b>Definition</b> config.inc.php:3</div></div>
<div class="ttc" id="aconfig_8inc_8php_html_a86006b2734a7ca48f8899843ae5c0950"><div class="ttname"><a href="config_8inc_8php.html#a86006b2734a7ca48f8899843ae5c0950">GNEWS_API</a></div><div class="ttdeci">const GNEWS_API</div><div class="ttdef"><b>Definition</b> config.inc.php:10</div></div>
<div class="ttc" id="aconfig_8inc_8php_html_adab5ecc0147e0a24a0d7e05988718eb5"><div class="ttname"><a href="config_8inc_8php.html#adab5ecc0147e0a24a0d7e05988718eb5">WEATHERAPI_KEY_PRO1</a></div><div class="ttdeci">const WEATHERAPI_KEY_PRO1</div><div class="ttdef"><b>Definition</b> config.inc.php:2</div></div>
<div class="ttc" id="aconfig_8inc_8php_html_afeb8e8e740f59428dbc7f31abad16cda"><div class="ttname"><a href="config_8inc_8php.html#afeb8e8e740f59428dbc7f31abad16cda">WEATHERAPI_PRO_START</a></div><div class="ttdeci">const WEATHERAPI_PRO_START</div><div class="ttdef"><b>Definition</b> config.inc.php:4</div></div>
<div class="ttc" id="adepartements_8php_html_adad9b2799c69f4c9deb75ea73c6b12c8"><div class="ttname"><a href="departements_8php.html#adad9b2799c69f4c9deb75ea73c6b12c8">$departements</a></div><div class="ttdeci">$departements</div><div class="ttdef"><b>Definition</b> departements.php:121</div></div>
<div class="ttc" id="aenglish_8php_html_a9a08c84edd46f257c94cdf8d443cc77d"><div class="ttname"><a href="english_8php.html#a9a08c84edd46f257c94cdf8d443cc77d">$ip</a></div><div class="ttdeci">$ip</div><div class="ttdef"><b>Definition</b> english.php:9</div></div>
<div class="ttc" id="afooter_8inc_8php_html_a8b13b70e413119309129af4aae42fbfd"><div class="ttname"><a href="footer_8inc_8php.html#a8b13b70e413119309129af4aae42fbfd">$visites</a></div><div class="ttdeci">&lt; footer &gt;&lt; span &gt;&lt; a href=&quot;#top&quot; id=&quot;backToTop&quot; title=&quot;Retour en haut&quot;&gt; ⬆&lt;/a &gt;&lt;/span &gt;&lt; span data-email=&quot;mathis.albrun@etu.cyu.fr&quot;&gt; Mathis Albrun&lt;/span &gt;&lt; span data-email=&quot;imene.khelil@etu.cyu.fr&quot;&gt; Imène Khelil&lt;/span &gt;&lt; div style=&quot;text-align:center&quot;&gt; $visites</div><div class="ttdef"><b>Definition</b> footer.inc.php:8</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a005b314c8e977288fae3a76e2f22f27a"><div class="ttname"><a href="functions_8inc_8php.html#a005b314c8e977288fae3a76e2f22f27a">getRegionsDepartementsSimplifie</a></div><div class="ttdeci">getRegionsDepartementsSimplifie($fichier_regions, $fichier_departements)</div><div class="ttdef"><b>Definition</b> functions.inc.php:446</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a03ae3aced4dd1ce64dfef5cf73320420"><div class="ttname"><a href="functions_8inc_8php.html#a03ae3aced4dd1ce64dfef5cf73320420">get_apod_data</a></div><div class="ttdeci">get_apod_data(string $api_key, string $date)</div><div class="ttdef"><b>Definition</b> functions.inc.php:15</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a09b71cd9b810ff04fe96389929fab101"><div class="ttname"><a href="functions_8inc_8php.html#a09b71cd9b810ff04fe96389929fab101">getNextDaysForecast</a></div><div class="ttdeci">getNextDaysForecast($ville)</div><div class="ttdef"><b>Definition</b> functions.inc.php:469</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a0f82e94bd899d6c870f8319b6031df8c"><div class="ttname"><a href="functions_8inc_8php.html#a0f82e94bd899d6c870f8319b6031df8c">getTopSkiStationsByMassif</a></div><div class="ttdeci">getTopSkiStationsByMassif(string $massif)</div><div class="ttdef"><b>Definition</b> functions.inc.php:577</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a13827df242a3d4bba716fd010bdeaf71"><div class="ttname"><a href="functions_8inc_8php.html#a13827df242a3d4bba716fd010bdeaf71">getMeteoNews</a></div><div class="ttdeci">getMeteoNews($max=10)</div><div class="ttdef"><b>Definition</b> functions.inc.php:868</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a207a6aa4dab75fe7397d89ba1c75dff4"><div class="ttname"><a href="functions_8inc_8php.html#a207a6aa4dab75fe7397d89ba1c75dff4">getMassifMapCenter</a></div><div class="ttdeci">getMassifMapCenter(string $massif)</div><div class="ttdef"><b>Definition</b> functions.inc.php:666</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a28fa67739bca2e046c581c0708d7a30e"><div class="ttname"><a href="functions_8inc_8php.html#a28fa67739bca2e046c581c0708d7a30e">get_whatismyip_html</a></div><div class="ttdeci">get_whatismyip_html(string $ip, string $key)</div><div class="ttdef"><b>Definition</b> functions.inc.php:86</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a2e57e50d383105be7b8f03780e4867ee"><div class="ttname"><a href="functions_8inc_8php.html#a2e57e50d383105be7b8f03780e4867ee">compter_visites</a></div><div class="ttdeci">compter_visites(string $fichier=&#39;./data/compteur.txt&#39;)</div><div class="ttdef"><b>Definition</b> functions.inc.php:172</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a3ed7decd3981ab56c9f70c40f5b70680"><div class="ttname"><a href="functions_8inc_8php.html#a3ed7decd3981ab56c9f70c40f5b70680">getDepartementFromCSV</a></div><div class="ttdeci">getDepartementFromCSV(string $ville, string $csv=&#39;./data/communes.csv&#39;)</div><div class="ttdef"><b>Definition</b> functions.inc.php:767</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a440e49d2ec1b78bfb8c97a85558fafeb"><div class="ttname"><a href="functions_8inc_8php.html#a440e49d2ec1b78bfb8c97a85558fafeb">getTodayWeatherData</a></div><div class="ttdeci">getTodayWeatherData($ville)</div><div class="ttdef"><b>Definition</b> functions.inc.php:228</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a4aad7562a4d0dd7f840fc8e40639653a"><div class="ttname"><a href="functions_8inc_8php.html#a4aad7562a4d0dd7f840fc8e40639653a">get_geoplugin_html</a></div><div class="ttdeci">get_geoplugin_html(string $ip)</div><div class="ttdef"><b>Definition</b> functions.inc.php:62</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a5d84d7b1ce3079bcd45e9555ce19e0ce"><div class="ttname"><a href="functions_8inc_8php.html#a5d84d7b1ce3079bcd45e9555ce19e0ce">getSnowDataForStation</a></div><div class="ttdeci">getSnowDataForStation(string $stationName, float $lat, float $lon)</div><div class="ttdef"><b>Definition</b> functions.inc.php:636</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a6424e254d7c780eace0b65798a9dd45d"><div class="ttname"><a href="functions_8inc_8php.html#a6424e254d7c780eace0b65798a9dd45d">getSnowDataForMassif</a></div><div class="ttdeci">getSnowDataForMassif(string $massif)</div><div class="ttdef"><b>Definition</b> functions.inc.php:536</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a659ac1347a62c87fd85f65b894fc481f"><div class="ttname"><a href="functions_8inc_8php.html#a659ac1347a62c87fd85f65b894fc481f">getWeatherImage</a></div><div class="ttdeci">getWeatherImage($label)</div><div class="ttdef"><b>Definition</b> functions.inc.php:290</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a68ef274d5931e28446b8ceb55c9f05ee"><div class="ttname"><a href="functions_8inc_8php.html#a68ef274d5931e28446b8ceb55c9f05ee">getTheme</a></div><div class="ttdeci">getTheme()</div><div class="ttdef"><b>Definition</b> functions.inc.php:139</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a6da0dd81990e3b00f51e18fbf74bf9bb"><div class="ttname"><a href="functions_8inc_8php.html#a6da0dd81990e3b00f51e18fbf74bf9bb">cookiesAutorises</a></div><div class="ttdeci">cookiesAutorises()</div><div class="ttdef"><b>Definition</b> functions.inc.php:129</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a724f208da60c8ae1d0653660a8dd314d"><div class="ttname"><a href="functions_8inc_8php.html#a724f208da60c8ae1d0653660a8dd314d">getIcon</a></div><div class="ttdeci">getIcon($basename)</div><div class="ttdef"><b>Definition</b> functions.inc.php:160</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a740321fd4e5c10cfb1916179f34163c1"><div class="ttname"><a href="functions_8inc_8php.html#a740321fd4e5c10cfb1916179f34163c1">getCityFromIP</a></div><div class="ttdeci">getCityFromIP($ip)</div><div class="ttdef"><b>Definition</b> functions.inc.php:363</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a7fa86aeb77e05b376566af7ce1eb05ba"><div class="ttname"><a href="functions_8inc_8php.html#a7fa86aeb77e05b376566af7ce1eb05ba">displayRandomPhotoFigureByMassif</a></div><div class="ttdeci">displayRandomPhotoFigureByMassif(string $massif)</div><div class="ttdef"><b>Definition</b> functions.inc.php:686</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a871d208565147002e16932e0c9344910"><div class="ttname"><a href="functions_8inc_8php.html#a871d208565147002e16932e0c9344910">getVigilanceAlertsForFrance</a></div><div class="ttdeci">getVigilanceAlertsForFrance(string $csv=&#39;./data/communes.csv&#39;)</div><div class="ttdef"><b>Definition</b> functions.inc.php:889</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_a9c8c270010d978649222e5cbb1ad7c6a"><div class="ttname"><a href="functions_8inc_8php.html#a9c8c270010d978649222e5cbb1ad7c6a">getCityFromIPInfo</a></div><div class="ttdeci">getCityFromIPInfo(string $ip)</div><div class="ttdef"><b>Definition</b> functions.inc.php:341</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_aa1e25c1e036448ba3cd72767173b0ccd"><div class="ttname"><a href="functions_8inc_8php.html#aa1e25c1e036448ba3cd72767173b0ccd">getNextHoursForecast</a></div><div class="ttdeci">getNextHoursForecast($ville, $jour=0)</div><div class="ttdef"><b>Definition</b> functions.inc.php:251</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_aa84e824503e62b7447263570775159d4"><div class="ttname"><a href="functions_8inc_8php.html#aa84e824503e62b7447263570775159d4">chargerNomsVillesDepuisCSVParDepartement</a></div><div class="ttdeci">chargerNomsVillesDepuisCSVParDepartement(string $csv, ?string $departement=null)</div><div class="ttdef"><b>Definition</b> functions.inc.php:832</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_aaa22a63a3793853ff0bcd90585563b5e"><div class="ttname"><a href="functions_8inc_8php.html#aaa22a63a3793853ff0bcd90585563b5e">get_apod_html</a></div><div class="ttdeci">get_apod_html(string $api_key, string $date)</div><div class="ttdef"><b>Definition</b> functions.inc.php:30</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_ab69229b0178c43dac3aac07413853f9a"><div class="ttname"><a href="functions_8inc_8php.html#ab69229b0178c43dac3aac07413853f9a">getPlageWeatherData</a></div><div class="ttdeci">getPlageWeatherData($ville)</div><div class="ttdef"><b>Definition</b> functions.inc.php:506</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_ab9006012d8552d2fc45e88b8ec196d8d"><div class="ttname"><a href="functions_8inc_8php.html#ab9006012d8552d2fc45e88b8ec196d8d">getDayDetails</a></div><div class="ttdeci">getDayDetails($ville)</div><div class="ttdef"><b>Definition</b> functions.inc.php:307</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_ac326544a4ea90a50146ee61996039aba"><div class="ttname"><a href="functions_8inc_8php.html#ac326544a4ea90a50146ee61996039aba">callWeatherAPI</a></div><div class="ttdeci">callWeatherAPI(string $endpoint, string $query, array $extraParams=[])</div><div class="ttdef"><b>Definition</b> functions.inc.php:194</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_ac8bdfeebe820ce3625f3fe72b540b7ca"><div class="ttname"><a href="functions_8inc_8php.html#ac8bdfeebe820ce3625f3fe72b540b7ca">chargerRegionsEtDepartements</a></div><div class="ttdeci">chargerRegionsEtDepartements($fichier_regions, $fichier_departements)</div><div class="ttdef"><b>Definition</b> functions.inc.php:393</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_acc7e20772b4c327c6132fc864e871ac8"><div class="ttname"><a href="functions_8inc_8php.html#acc7e20772b4c327c6132fc864e871ac8">getCurrentWeatherAPIKey</a></div><div class="ttdeci">getCurrentWeatherAPIKey()</div><div class="ttdef"><b>Definition</b> functions.inc.php:815</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_acf615440d10caf1a30abf3e6818333ef"><div class="ttname"><a href="functions_8inc_8php.html#acf615440d10caf1a30abf3e6818333ef">getAirQualityData</a></div><div class="ttdeci">getAirQualityData(string $ville)</div><div class="ttdef"><b>Definition</b> functions.inc.php:793</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_acfbe0013a289144f41637885c5612a8c"><div class="ttname"><a href="functions_8inc_8php.html#acfbe0013a289144f41637885c5612a8c">getClientIP</a></div><div class="ttdeci">getClientIP()</div><div class="ttdef"><b>Definition</b> functions.inc.php:329</div></div>
<div class="ttc" id="afunctions_8inc_8php_html_ad6822a01a7db896ca7ec1c1f1207ec91"><div class="ttname"><a href="functions_8inc_8php.html#ad6822a01a7db896ca7ec1c1f1207ec91">getTopBeachStations</a></div><div class="ttdeci">getTopBeachStations()</div><div class="ttdef"><b>Definition</b> functions.inc.php:731</div></div>
<div class="ttc" id="aheader_8inc_8php_html_a1e31da0b2178f1c415f5a9d391fd9275"><div class="ttname"><a href="header_8inc_8php.html#a1e31da0b2178f1c415f5a9d391fd9275">if</a></div><div class="ttdeci">if( $page===&#39;statistiques.php&#39;) if(in_array( $page,[ &#39;mer.php&#39;, &#39;neige.php&#39;]))</div><div class="ttdef"><b>Definition</b> header.inc.php:65</div></div>
<div class="ttc" id="aheader_8inc_8php_html_a60db72aed7c1f4296000e75ae790959a"><div class="ttname"><a href="header_8inc_8php.html#a60db72aed7c1f4296000e75ae790959a">$params</a></div><div class="ttdeci">$params</div><div class="ttdef"><b>Definition</b> header.inc.php:36</div></div>
<div class="ttc" id="amer_8php_html_a2552b63dcca65cadc8cf09880acf7f2c"><div class="ttname"><a href="mer_8php.html#a2552b63dcca65cadc8cf09880acf7f2c">$stations</a></div><div class="ttdeci">if(isset($_GET[&#39;plage&#39;])) $stations</div><div class="ttdef"><b>Definition</b> mer.php:38</div></div>
<div class="ttc" id="aneige_8php_html_a2215186c27ba49fd8a95581724f99713"><div class="ttname"><a href="neige_8php.html#a2215186c27ba49fd8a95581724f99713">$jour</a></div><div class="ttdeci">if( $selectedStation)( $selectedStation) ?&gt;&lt;/h4 &gt;&lt;?php if(!empty( $snowData))( $snowData as $station)( $station[ &#39;station&#39;]) ?&gt;&lt;/h4 &gt;&lt; div class $jour</div><div class="ttdef"><b>Definition</b> neige.php:125</div></div>
<div class="ttc" id="asuggestion_8php_html_a936918862c904c8ed29f6f1dfd7a1472"><div class="ttname"><a href="suggestion_8php.html#a936918862c904c8ed29f6f1dfd7a1472">$dep</a></div><div class="ttdeci">$dep</div><div class="ttdef"><b>Definition</b> suggestion.php:3</div></div>
<div class="ttc" id="atech_8php_html_a186dfe06d14a3bc248c4eb4bcdaec562"><div class="ttname"><a href="tech_8php.html#a186dfe06d14a3bc248c4eb4bcdaec562">$api_key</a></div><div class="ttdeci">$api_key</div><div class="ttdef"><b>Definition</b> tech.php:12</div></div>
<div class="ttc" id="atech_8php_html_a481c918f8d853749e00b5942cabf599a"><div class="ttname"><a href="tech_8php.html#a481c918f8d853749e00b5942cabf599a">$date</a></div><div class="ttdeci">$date</div><div class="ttdef"><b>Definition</b> tech.php:3</div></div>
<div class="ttc" id="autile_8inc_8php_html_ac425fec8aadb2de68d0a0128d4d6ec8e"><div class="ttname"><a href="utile_8inc_8php.html#ac425fec8aadb2de68d0a0128d4d6ec8e">estimateWaterTemp</a></div><div class="ttdeci">estimateWaterTemp($airTemp)</div><div class="ttdef"><b>Definition</b> utile.inc.php:3</div></div>
<div class="ttc" id="avigilance_8php_html_ad631b5aa097c1e875d8a8fbd6aebea8c"><div class="ttname"><a href="vigilance_8php.html#ad631b5aa097c1e875d8a8fbd6aebea8c">$alerts</a></div><div class="ttdeci">$alerts</div><div class="ttdef"><b>Definition</b> vigilance.php:9</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
